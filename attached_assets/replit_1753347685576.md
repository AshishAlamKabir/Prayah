# Prayas: Revolutionary Community Organization Platform

## Overview

Prayas is a full-stack web application for a revolutionary community organization focused on education, culture, and social change. The platform serves as a digital hub for managing schools, cultural programs, published works, and community engagement through an integrated content management system.

## User Preferences

Preferred communication style: Simple, everyday language.
Color theme preference: Green buttons with red backgrounds - use red backgrounds for sections with white text, and green buttons for all interactive elements.

## System Architecture

The application follows a modern full-stack architecture with clear separation between client and server components:

### Frontend Architecture
- **Framework**: React 18 with TypeScript
- **Routing**: Wouter for lightweight client-side routing
- **State Management**: TanStack Query (React Query) for server state management
- **UI Components**: Radix UI primitives with shadcn/ui design system
- **Styling**: Tailwind CSS with custom socialist-themed color palette
- **Build Tool**: Vite for fast development and optimized production builds

### Backend Architecture
- **Runtime**: Node.js with Express.js framework
- **Language**: TypeScript with ESM modules
- **Database**: PostgreSQL with Drizzle ORM (migrated from in-memory storage)
- **Database Provider**: Neon Database (serverless PostgreSQL)
- **Schema Management**: Drizzle Kit for migrations and schema management
- **API Design**: RESTful JSON APIs with Zod validation
- **Storage Layer**: DatabaseStorage class implementing IStorage interface

### Development Environment
- **Development Server**: Vite dev server with HMR for frontend, tsx for backend hot reloading
- **Type Checking**: Shared TypeScript configuration across client/server/shared code
- **Code Organization**: Monorepo structure with shared schema definitions

## Key Components

### Data Models
The application manages five primary entity types:
- **Users**: Basic authentication and user management
- **Community Posts**: User-submitted content with approval workflow
- **Schools**: Educational institution information and programs
- **Culture Categories**: Arts and cultural program categorization
- **Books**: Digital and physical book catalog with e-commerce features
- **Published Works**: Organization's published materials and literature

### Frontend Pages
- **Home**: Organization overview with community engagement forms
- **Schools**: Directory of educational institutions with detailed profiles
- **Art & Culture**: Cultural programs and categories showcase
- **Books**: E-commerce platform for purchasing books and accessing free PDFs
- **Admin**: Content moderation and approval system

### UI Component System
- Comprehensive design system built on Radix UI primitives
- Socialist-themed color palette with revolutionary red (#A12B2B) as primary color
- Responsive design with mobile-first approach
- Consistent card-based layouts with "revolutionary-card" styling

## Data Flow

### Content Management Flow
1. **Submission**: Users submit community posts through forms
2. **Validation**: Client-side validation with react-hook-form and Zod schemas
3. **Storage**: Posts stored with pending approval status
4. **Moderation**: Admin interface for reviewing and approving content
5. **Publication**: Approved content appears in public feeds

### Database Operations
- **ORM Layer**: Drizzle ORM provides type-safe database operations
- **Schema Sharing**: Database schemas shared between client and server via `@shared/schema`
- **Migrations**: Automated migration system using Drizzle Kit (`npm run db:push`)
- **Connection**: Serverless connection pooling through Neon Database
- **Storage Implementation**: DatabaseStorage class with full CRUD operations for all entities
- **Data Initialization**: Automatic seeding of sample data on first run

### State Management
- **Server State**: TanStack Query manages API calls, caching, and synchronization
- **Form State**: React Hook Form with Zod resolvers for validation
- **UI State**: React's built-in state management for component-level state

## External Dependencies

### Database & Backend
- **@neondatabase/serverless**: Serverless PostgreSQL connection
- **drizzle-orm**: Type-safe ORM with PostgreSQL dialect
- **connect-pg-simple**: PostgreSQL session store for Express
- **express**: Web application framework

### Frontend Libraries
- **@tanstack/react-query**: Server state management
- **@hookform/resolvers**: Form validation integration
- **wouter**: Lightweight routing library
- **@radix-ui/***: Accessible UI component primitives
- **tailwindcss**: Utility-first CSS framework

### Development Tools
- **vite**: Build tool and development server
- **tsx**: TypeScript execution for Node.js
- **drizzle-kit**: Database schema management
- **@replit/vite-plugin-runtime-error-modal**: Development error handling

## Deployment Strategy

### Build Process
1. **Frontend Build**: Vite compiles React application to static assets
2. **Backend Build**: esbuild bundles server code into single JavaScript file
3. **Asset Organization**: Static files served from `dist/public` directory
4. **Database Preparation**: Schema pushed to PostgreSQL database

### Production Configuration
- **Server**: Node.js application serving both API and static files
- **Database**: Production PostgreSQL database via environment variable
- **Environment**: Environment-specific configurations for development/production
- **Static Serving**: Express serves Vite-built frontend in production

### Development Workflow
- **Hot Reloading**: Vite HMR for frontend, tsx watch mode for backend
- **Database Sync**: `db:push` command synchronizes schema changes
- **Type Safety**: Shared TypeScript configurations ensure consistency
- **Error Handling**: Development-specific error overlays and logging

The architecture emphasizes developer experience with hot reloading, type safety, and clear separation of concerns while maintaining simplicity in deployment and maintenance.